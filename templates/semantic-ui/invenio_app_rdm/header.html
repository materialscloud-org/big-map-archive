{#
    -*- coding: utf-8 -*-
    Copyright (C) 2019-2020 CERN.
    Copyright (C) 2019-2020 Northwestern University.
    Copyright (C) 2021 New York University.

    Invenio App RDM is free software; you can redistribute it and/or modify it
    under the terms of the MIT License; see LICENSE file for more details.
#}

<div>
  <header class="theme header">
    <div class="outer-navbar">
      {%- block navbar %}
      <div id="invenio-nav-spacer"></div>
      <div class="logo">
        {%- block navbar_header %}
        {%- block brand %}
          {%- if config.THEME_LOGO %}
          <a class="logo-link" href="/">
            <img class="big-map-logo"
                src="{{ url_for('static', filename=config.THEME_LOGO) }}"/>
          </a>
          {%- else %}
          <a class="logo" href="/">{{ _(config.THEME_SITENAME) }}</a>
          {%- endif %}
        {%- endblock brand %}
        {%- endblock navbar_header %}
      </div>
      <nav id="invenio-nav" class="ui inverted menu borderless">
        <ul class="navbar-menu">
            <li class="navbar-item navbar-search-bar">
              {%- if config.THEME_SEARCHBAR %}
                  {%- block navbar_search %}
                    <div class="navbar-item navbar-search-bar" id="header-search-bar">
                      <form class="form" action="{{ config.THEME_SEARCH_ENDPOINT }}" role="search">
                        <div class="ui action icon input">
                          <input type="text" name="q" placeholder="{{ _('Search publications') }}">
                          <button type="submit" class="ui icon search button">
                            <i class="icon search"></i>
                          </button>
                        </div>
                      </form>
                    </div>

                  {%- endblock navbar_search %}
                {%- endif %}
            </li>
              {%- block navbar_nav %}
                  <li class="navbar-item navbar-button">
                      <ul class="rdm-sign-buttons">
                        <li class="navbar-item navbar-button">
                            {%- if config.ACCOUNTS %}
                                {%- if current_user.is_authenticated %}
                                    <form>
                                        <a class="ui button" href="{{ url_for('invenio_search_ui.search') }}">List of published records</a>
                                    </form>
                                {%- endif %}
                            {%- endif %}
                        </li>
                      </ul>
                  </li>
            {%- endblock navbar_nav %}
            <li class="navbar-item navbar-button">
              <ul class="rdm-sign-buttons">
                {%- block navbar_right %}
                  <li class="navbar-item navbar-button user-profile">
                  <form class="form-inline my-2 my-lg-0">
                    {%- if config.ACCOUNTS %}
                      {%- if current_user.is_authenticated %}
                          <a class="ui button" href="{{ url_for('invenio_app_rdm_records.dashboard') }}">My records</a>
                      {%- endif %}
                    {%- endif %}
                    {%- include config.THEME_HEADER_LOGIN_TEMPLATE %}
                  </form>
                  </li>
                {%- endblock navbar_right %}
              </ul>
            </li>

            <li class="toggle">
              <input class="menu-btn" type="checkbox" id="menu-btn" />
              <label class="menu-icon" for="menu-btn"><span class="navicon"></span></label>
            </li>
        </ul>
      </nav>
      {%- endblock navbar %}
    </div>
  {%- block flashmessages %}
  {%- from "invenio_theme/macros/messages.html" import flashed_messages with context -%}
  {{ flashed_messages() }}
  {%- endblock %}
  </header>

  {%- block breadcrumbs %}
  {%- include "invenio_theme/breadcrumbs.html" %}
  {%- endblock breadcrumbs %}
</div>
